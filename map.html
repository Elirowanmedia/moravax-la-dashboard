<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Moravax Louisiana Pilot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://unpkg.com/leaflet/dist/leaflet.css" rel="stylesheet">
  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
    .layer-control {
      position: absolute;
      bottom: 30px;
      left: 10px;
      background: rgba(0,0,0,0.85);
      color: #fff;
      font-family: Arial, sans-serif;
      font-size: 13px;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 0 8px rgba(0,0,0,0.5);
    }
    .layer-control label { display: block; margin: 5px 0; cursor: pointer; }
    .layer-control input { margin-right: 6px; }
    .layer-control .tip {
      margin-top: 8px;
      font-size: 11px;
      color: #aaa;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="layer-control">
    <strong>Moravax Pilot<br>Layers</strong><br>
    Night lights overlay:
    <label><input type="radio" name="viirs" value="bright"> VIIRS DNB Radiance (bright)</label>
    <label><input type="radio" name="viirs" value="subtle" checked> Black Marble (subtle)</label>
    <div class="tip">Tip: zoom to 8â€“12 for best contrast</div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Base map
    const map = L.map('map').setView([30.0, -90.5], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap'
    }).addTo(map);

    // NASA GIBS overlays
    const viirsBright = L.tileLayer(
      'https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_DayNightBand_ENCC/2020-01-01/GoogleMapsCompatible_Level9/{z}/{y}/{x}.png',
      { attribution: 'NASA VIIRS DNB Radiance (bright)' }
    );

    const viirsSubtle = L.tileLayer(
      'https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_Black_Marble/2020-01-01/GoogleMapsCompatible_Level8/{z}/{y}/{x}.png',
      { attribution: 'NASA Black Marble (subtle)' }
    ).addTo(map);

    // Layer switcher
    const radios = document.querySelectorAll('input[name="viirs"]');
    radios.forEach(radio => {
      radio.addEventListener('change', e => {
        map.removeLayer(viirsBright);
        map.removeLayer(viirsSubtle);
        if (e.target.value === 'bright') {
          viirsBright.addTo(map);
        } else {
          viirsSubtle.addTo(map);
        }
      });
    });
  </script>
</body>
</html>
